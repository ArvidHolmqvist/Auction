SET client_min_messages TO WARNING;
DROP SCHEMA public CASCADE;
CREATE SCHEMA public;
GRANT ALL ON SCHEMA public TO postgres;

CREATE TABLE Currencies (
    id TEXT PRIMARY KEY
);

CREATE TABLE Auction_Items (
    id BIGINT PRIMARY KEY,
    name TEXT NOT NULL,
    description TEXT NOT NULL,
    start_price FLOAT8 NOT NULL,
    current_price FLOAT8 NOT NULL,
    currency TEXT REFERENCES Currencies,
    start_time BIGINT NOT NULL,
    end_time BIGINT NOT NULL
);

CREATE TABLE Images (
    auction_id BIGINT,
    image BYTEA,
    image_id BIGINT,
    PRIMARY KEY (auction_id, image)
);

CREATE TABLE Bidders (
    name TEXT,
    auction_id BIGINT,
    bid FLOAT8 NOT NULL,
    date BIGINT NOT NULL,
    PRIMARY KEY (name,auction_id)
);



insert into Currencies values ('USD');