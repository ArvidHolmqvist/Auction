SET client_min_messages TO WARNING;
DROP SCHEMA public CASCADE;
CREATE SCHEMA public;
GRANT ALL ON SCHEMA public TO postgres;

CREATE TABLE Currencies (
    id TEXT PRIMARY KEY
);

CREATE TABLE Auction_Items (
    id BIGINT PRIMARY KEY,
    name TEXT NOT NULL,
    description TEXT NOT NULL,
    start_price FLOAT8 NOT NULL,
    current_price FLOAT8 NOT NULL,
    currency TEXT REFERENCES Currencies,
    start_time BIGINT NOT NULL,
    end_time BIGINT NOT NULL,
);

CREATE TABLE Images (
    imageID BIGINT PRIMARY KEY,
    itemID BIGINT REFERENCES Auction_Items(id),
    image BYTEA
);

CREATE TABLE Bidders (
    name TEXT NOT NULL,
    auction_item BIGINT REFERENCES Auction_Items(id),
    bid FLOAT8 NOT NULL,
    PRIMARY KEY (name,auction_item)
)



insert into currencies values ('USD');